<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SPYSpheres: ZeroRoboticsGameImpl Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SPYSpheres
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classZeroRoboticsGameImpl.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ZeroRoboticsGameImpl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ZeroRoboticsGameImpl" -->
<p>This class defines the hidden game implementation.  
 <a href="classZeroRoboticsGameImpl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ZRGameInternal_8h_source.html">ZRGameInternal.h</a>&gt;</code></p>

<p><a href="classZeroRoboticsGameImpl-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structZeroRoboticsGameImpl_1_1Camera.html">Camera</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html">ChallengeInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structZeroRoboticsGameImpl_1_1Light.html">Light</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structZeroRoboticsGameImpl_1_1OtherInfo.html">OtherInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structZeroRoboticsGameImpl_1_1Picture.html">Picture</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html">PlayerInfo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(Required) Runs initialization fo the ZR game at the start of a test.  <a href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#af030fdfdbf98d8e9cf9eb89188f5f152">init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a66f7ae702f54ce00b96516062a594447">update</a> (float forceTorqueOut[6])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(Required) Runs an update of the game rules and calls the user function loop().  <a href="#a66f7ae702f54ce00b96516062a594447"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a0d07ca22a432d2899967969c8ef1eda1">updateGameModeManeuver</a> (float forceTorqueOut[6])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a0149c5734a126dbdb9e1fbc046fe7e20">updateGameOverManeuver</a> (float forceTorqueOut[6], unsigned char &amp;finalScore)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a90009ba093cda6005c311343e9934315">updateStates</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ae0304cdd8e28fd771f7115c01ec7568d">enforceBoundaries</a> (float forceTorque[6])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(Required) Called on every gspControl control cycle.  <a href="#ae0304cdd8e28fd771f7115c01ec7568d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a8cf779cbaea1615a7edde4b9f9140ca1">limitDirection</a> (state_vector ctrlState, float ctrlControl[6], unsigned int idx, float dir)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Limits the direction in which the programmed SPHERE can travel and slows down the velocity if it travels in the direction of the limit.  <a href="#a8cf779cbaea1615a7edde4b9f9140ca1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a45e62f5b9b517dd69a91e5f8da28d05e">sendDebug</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(Required) Called on every gspControl control cycle, It should be used to send debug and telemetry information to the ground.  <a href="#a45e62f5b9b517dd69a91e5f8da28d05e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a6c210b71d6770b9488f0c92ae7bdc4e9">sendInit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">for Corona SPHERES: sends POI &amp; Solar Flare info to Sat 2 at start of game  <a href="#a6c210b71d6770b9488f0c92ae7bdc4e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a47904ea3196c7b380138e09390a916b4">processRXData</a> (default_rfm_packet packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(Required) Processes SPHERES telemetry data  <a href="#a47904ea3196c7b380138e09390a916b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a533fabe38f4f73012e6c17e3bf4c3d14">breakTie</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a7802e51a36441a2605b3269654429be5">modify2DForceTorque</a> (float forceTorque[6])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#adbaead014c33f537ced25d9f75ed5d93">resolveCollision</a> (float zrState[12], float forceTorqueOut[6])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a9b912e3356f041bbe5b041871bb3d8b6">dist3d</a> (float *pos1, float *pos2) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ae006a783294bebfeb08e75106999e0a4">photoBomb</a> (float zrState[12], float poiLoc[3])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a144467705069d75adc1a9c9cd12092ee">initItems</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a98622dbb22c0981ef67da6eb23a7b4d0">randomizeStartingLocs</a> (int itemID, int coord)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#af9d88e40a751f09b2b35273929140414">itemPickUp</a> (int objectNum)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ae3f65484833e0ca0593c7f0a8aae96cb">initCamera</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a1abd712563a1463c237192fd65a59bb1">disableCamera</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ab0ff87dbfe03c343bb5f6c9f1e990b5c">activateCamera</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#aaf974d5f8a4d6e46e717ba66569b269d">memoryLoss</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a01e366db202e3c9c01b84a586d1efabb">isFacingPos</a> (float position[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ad08dddd59402ffbadf3a6b2a1081cbf2">isFacingOther</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a9256964207965603b6d65e54f9c4c5c1">isFacingEarth</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a7c169c0d9e3e14c6dbc0626577ed4b4c">takePicImpl</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the score value of the picture, or 0 if taking the picture failed.  <a href="#a7c169c0d9e3e14c6dbc0626577ed4b4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a73a31ac55f0b46a131a16f76db0d9c1c">picPointsImpl</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a8a66e2238ce005caecdae3d30748006d">resetPicsTaken</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a64e853729e517d1bf047782e7eea0968">sphereInSwitchingArea</a> (float position[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a2fc1cc700255f5f1548d7c49453e2cda">sphereInMovingArea</a> (float position[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#af97fc0f54d62302c4d4bcb83b4075e7b">sphereInLight</a> (float position[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a2486f09445bfc3a17b75fa2b395ca851">sphereInDark</a> (float position[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ab3979270376c118c18d5f115de497a6a">switchLightDirection</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a0383e3bafc3f5da3d7b130a1d958a377">initLight</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a34553d0023583d922cd94c6951af0f84">updateLight</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a48eea815ca3cf800bed54cf4e7a6a7eb">initEnergy</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a73fd253dab9b3107da7081532f0da211">updateEnergy</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a761923bde7ba17770abbe676c59b2414">tryToUseEnergy</a> (float amount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ab2c18b47ae2ce8f4f8196827d5bbf380">ZeroRoboticsGameImpl</a> (ZeroRoboticsAPIImpl &amp;<a class="el" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9">apiImpl</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for binding an API implementation.  <a href="#ab2c18b47ae2ce8f4f8196827d5bbf380"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classZeroRoboticsGameImpl.html">ZeroRoboticsGameImpl</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ac501ce5e4789b84cfbaab92c0171606d">instance</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves singleton instance of the game implementation.  <a href="#ac501ce5e4789b84cfbaab92c0171606d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html">ChallengeInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ZeroRoboticsAPIImpl &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9">apiImpl</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to ZR API instance.  <a href="#ae996db138ad7b6f27e3e71ecd76b9ec9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classZeroRoboticsGame.html">ZeroRoboticsGame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c">game</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Back pointer to the game instance.  <a href="#ae1d07092a5c7cd9456e55133ba53005c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const state_vector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classZeroRoboticsGameImpl.html#a1939455dbdd408e10e5f209e7f3e91e4">initState</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(Required) Initial state where the satellite is initialized.  <a href="#a1939455dbdd408e10e5f209e7f3e91e4"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class defines the hidden game implementation. </p>
<p>Any internal utility functions or game ru//les functsions hould be put here. You may also override any of the standard GSP functions by implementing them here. The functions <a class="el" href="classZeroRoboticsGameImpl.html#af030fdfdbf98d8e9cf9eb89188f5f152">init()</a>, <a class="el" href="classZeroRoboticsGameImpl.html#a66f7ae702f54ce00b96516062a594447" title="(Required) Runs an update of the game rules and calls the user function loop().">update()</a>, and <a class="el" href="classZeroRoboticsGameImpl.html#a45e62f5b9b517dd69a91e5f8da28d05e" title="(Required) Called on every gspControl control cycle, It should be used to send debug and telemetry in...">sendDebug()</a> are required. </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8h_source.html#l00025">25</a> of file <a class="el" href="ZRGameInternal_8h_source.html">ZRGameInternal.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab2c18b47ae2ce8f4f8196827d5bbf380"></a><!-- doxytag: member="ZeroRoboticsGameImpl::ZeroRoboticsGameImpl" ref="ab2c18b47ae2ce8f4f8196827d5bbf380" args="(ZeroRoboticsAPIImpl &amp;apiImpl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classZeroRoboticsGameImpl.html#ab2c18b47ae2ce8f4f8196827d5bbf380">ZeroRoboticsGameImpl::ZeroRoboticsGameImpl</a> </td>
          <td>(</td>
          <td class="paramtype">ZeroRoboticsAPIImpl &amp;&#160;</td>
          <td class="paramname"><em>apiImpl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor for binding an API implementation. </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00056">56</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">: <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>(<a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>) {}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab0ff87dbfe03c343bb5f6c9f1e990b5c"></a><!-- doxytag: member="ZeroRoboticsGameImpl::activateCamera" ref="ab0ff87dbfe03c343bb5f6c9f1e990b5c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#ab0ff87dbfe03c343bb5f6c9f1e990b5c">ZeroRoboticsGameImpl::activateCamera</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00028">28</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a840ab79be6fe8863917f53c30d0df05b">cameraOn</a> = <span class="keyword">true</span>;
  GAME_TRACE((<span class="stringliteral">&quot;[%d] camera ON | &quot;</span>, <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime()));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a533fabe38f4f73012e6c17e3bf4c3d14"></a><!-- doxytag: member="ZeroRoboticsGameImpl::breakTie" ref="a533fabe38f4f73012e6c17e3bf4c3d14" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a533fabe38f4f73012e6c17e3bf4c3d14">ZeroRoboticsGameImpl::breakTie</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1abd712563a1463c237192fd65a59bb1"></a><!-- doxytag: member="ZeroRoboticsGameImpl::disableCamera" ref="a1abd712563a1463c237192fd65a59bb1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a1abd712563a1463c237192fd65a59bb1">ZeroRoboticsGameImpl::disableCamera</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00021">21</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a70b0a36baeb8ac722d60593abd20598a">cameraOffTime</a> = <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime();
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a840ab79be6fe8863917f53c30d0df05b">cameraOn</a> = <span class="keyword">false</span>;
  GAME_TRACE((<span class="stringliteral">&quot;[%d] camera OFF | &quot;</span>, <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime()));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9b912e3356f041bbe5b041871bb3d8b6"></a><!-- doxytag: member="ZeroRoboticsGameImpl::dist3d" ref="a9b912e3356f041bbe5b041871bb3d8b6" args="(float *pos1, float *pos2) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classZeroRoboticsGameImpl.html#a9b912e3356f041bbe5b041871bb3d8b6">ZeroRoboticsGameImpl::dist3d</a> </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>pos1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>pos2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00428">428</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">float</span> tmpVec[3];
  mathVecSubtract(tmpVec,static_cast&lt;float*&gt;(pos1),static_cast&lt;float*&gt;(pos2),3);
  <span class="keywordflow">return</span> mathVecMagnitude(tmpVec,3);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae0304cdd8e28fd771f7115c01ec7568d"></a><!-- doxytag: member="ZeroRoboticsGameImpl::enforceBoundaries" ref="ae0304cdd8e28fd771f7115c01ec7568d" args="(float forceTorque[6])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#ae0304cdd8e28fd771f7115c01ec7568d">ZeroRoboticsGameImpl::enforceBoundaries</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>forceTorque</em>[6]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(Required) Called on every gspControl control cycle. </p>
<p>It should be used to send debug and telemetry information to the ground. </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00383">383</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  state_vector sphState;
  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getMySphState(sphState);
  <span class="keywordtype">bool</span> retValue = <span class="keyword">false</span>;

  <span class="comment">//Run velocity controller to stop motion out of volume</span>
  <span class="comment">//Zero out any controls that are leading the user out of the volume</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;3; i++)
  {
    <span class="keywordflow">if</span> (sphState[POS_X+i] &gt; <a class="code" href="Constants_8h.html#ae8583d0c704c2666caa487a2fb6bdff6" title="The limits of the interaction zone.">limits</a>[i])
    {
      <a class="code" href="classZeroRoboticsGameImpl.html#a8cf779cbaea1615a7edde4b9f9140ca1" title="Limits the direction in which the programmed SPHERE can travel and slows down the velocity if it trav...">limitDirection</a>(sphState, forceTorqueOut, i, 1.0f);
      retValue = <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sphState[POS_X+i] &lt; -<a class="code" href="Constants_8h.html#ae8583d0c704c2666caa487a2fb6bdff6" title="The limits of the interaction zone.">limits</a>[i])
    {
      <a class="code" href="classZeroRoboticsGameImpl.html#a8cf779cbaea1615a7edde4b9f9140ca1" title="Limits the direction in which the programmed SPHERE can travel and slows down the velocity if it trav...">limitDirection</a>(sphState, forceTorqueOut, i, -1.0f);
      retValue = <span class="keyword">true</span>;
    }
  }
  <span class="keywordflow">return</span> retValue;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af030fdfdbf98d8e9cf9eb89188f5f152"></a><!-- doxytag: member="ZeroRoboticsGameImpl::init" ref="af030fdfdbf98d8e9cf9eb89188f5f152" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#af030fdfdbf98d8e9cf9eb89188f5f152">ZeroRoboticsGameImpl::init</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00070">70</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/*  Game Initialization setup.</span>
<span class="comment">  * Then set the locations of the memory packs.</span>
<span class="comment">  */</span>

  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.gameTime = <a class="code" href="Constants_8h.html#a499a01f94e0eeca140745a2408d5d04c" title="The time at game start.">GAME_TIME</a>;
  memset(&amp;<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>,0,<span class="keyword">sizeof</span>(ChallengeInfo));   <span class="comment">// general clear of challInfo to 0 = false = empty</span>

  <span class="comment">// update the state data on challInfo</span>
  <a class="code" href="classZeroRoboticsGameImpl.html#a90009ba093cda6005c311343e9934315">updateStates</a>();
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3cee3821a3064e6f38ded9705cb694b2">score</a> = <a class="code" href="Constants_8h.html#a6c442bd56ab56ba0828dd97c748d3f6c" title="Your score upon starting the game.">START_SCORE</a>;

  <span class="comment">// Lights, Camera, Action!</span>
  <a class="code" href="classZeroRoboticsGameImpl.html#a0383e3bafc3f5da3d7b130a1d958a377">initLight</a>();
  <a class="code" href="classZeroRoboticsGameImpl.html#ae3f65484833e0ca0593c7f0a8aae96cb">initCamera</a>();
  <a class="code" href="classZeroRoboticsGameImpl.html#a48eea815ca3cf800bed54cf4e7a6a7eb">initEnergy</a>();

  <a class="code" href="classZeroRoboticsGameImpl.html#a144467705069d75adc1a9c9cd12092ee">initItems</a>();



  <span class="comment">// send information to ground and sat2 at the end of init</span>
  <a class="code" href="classZeroRoboticsGameImpl.html#a45e62f5b9b517dd69a91e5f8da28d05e" title="(Required) Called on every gspControl control cycle, It should be used to send debug and telemetry in...">sendDebug</a>();

}
</pre></div>
</div>
</div>
<a class="anchor" id="ae3f65484833e0ca0593c7f0a8aae96cb"></a><!-- doxytag: member="ZeroRoboticsGameImpl::initCamera" ref="ae3f65484833e0ca0593c7f0a8aae96cb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#ae3f65484833e0ca0593c7f0a8aae96cb">ZeroRoboticsGameImpl::initCamera</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00013">13</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a> = 0;
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad11dedf42ae2311a21d7d2f6ca9b5849">memorySize</a> = <a class="code" href="Constants_8h.html#a25846aae95f8beefa8f2a4e88c046b54" title="The number of memory slots an unmodified camera has.">CAMERA_DEFAULT_MEMORY</a>;
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a840ab79be6fe8863917f53c30d0df05b">cameraOn</a> = <span class="keyword">true</span>;
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a8d26b3bc85393f81d98f2caa8a6e4b73">cameraBlocked</a> = <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a48eea815ca3cf800bed54cf4e7a6a7eb"></a><!-- doxytag: member="ZeroRoboticsGameImpl::initEnergy" ref="a48eea815ca3cf800bed54cf4e7a6a7eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a48eea815ca3cf800bed54cf4e7a6a7eb">ZeroRoboticsGameImpl::initEnergy</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZREnergy_8cpp_source.html#l00033">33</a> of file <a class="el" href="ZREnergy_8cpp_source.html">ZREnergy.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> = <a class="code" href="Constants_8h.html#aac6a3c87a8e31b580ffde4dee9c43c98" title="Starting energy.">STARTING_ENERGY</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a144467705069d75adc1a9c9cd12092ee"></a><!-- doxytag: member="ZeroRoboticsGameImpl::initItems" ref="a144467705069d75adc1a9c9cd12092ee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a144467705069d75adc1a9c9cd12092ee">ZeroRoboticsGameImpl::initItems</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRItems_8cpp_source.html#l00015">15</a> of file <a class="el" href="ZRItems_8cpp_source.html">ZRItems.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
<span class="preprocessor">  #ifndef ALLIANCE</span>
<span class="preprocessor"></span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i&lt;<a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a>; i++)
  {
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a63ad9a3a1453d1779e714c823d1a8696">mpTime</a>[i]    = <a class="code" href="Constants_8h.html#a1b8fa07e950b381bc1dbc3275438af3f">MP_EMPTY</a>;
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a7b880b464aa18719bd2cb93327927c4d">mpTime</a>[i] = <a class="code" href="Constants_8h.html#a1b8fa07e950b381bc1dbc3275438af3f">MP_EMPTY</a>;
    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j = 0; j&lt;3; j++)
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i][j] = ITEM_LOC[i][j];
  }
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>  <span class="keywordtype">float</span> r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[0][0] = r * 0.25f + 0.05;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[0][1] = r * 0.3f;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[0][2] = r * 0.5f;

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[1][0] = -<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[0][0];
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[1][1] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[0][1];
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[1][2] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[0][2];

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[2][0] = 0.0f;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[2][1] = r * 0.3f;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[2][2] = r * 0.5f;

  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[3][0] = r * 0.25f + 0.05f;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[3][1] = r * 0.2f + 0.4;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[3][2] = r - 0.5f;

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[4][0] = -<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[3][0];
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[4][1] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[3][1];
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[4][2] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[3][2];

  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[5][0] = r * 0.25f + 0.05f;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[5][1] = r * 0.2f + 0.4;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[5][2] = r - 0.5f;

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[6][0] = -<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[5][0];
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[6][1] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[5][1];
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[6][2] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[5][2];

  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[7][0] = r * 0.2f + 0.3;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[7][1] = r * 0.3f;
  r = (float) (rand() % 10000) / (10000.0);
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[7][2] = r * 0.2f - 0.5f;

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[8][0] = -<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[7][0];
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[8][1] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[7][1];
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[8][2] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[7][2];

  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i&lt;<a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a>; i++)
  {
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a63ad9a3a1453d1779e714c823d1a8696">mpTime</a>[i]    = <a class="code" href="Constants_8h.html#a1b8fa07e950b381bc1dbc3275438af3f">MP_EMPTY</a>;
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a7b880b464aa18719bd2cb93327927c4d">mpTime</a>[i] = <a class="code" href="Constants_8h.html#a1b8fa07e950b381bc1dbc3275438af3f">MP_EMPTY</a>;
    <span class="comment">//printf(&quot;Item %d at (%f,%f,%f)\n&quot;, i, challInfo.mpLoc[i][0], challInfo.mpLoc[i][1], challInfo.mpLoc[i][2]);</span>
  }
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a81124c85a7a5019de80334d1672c1e13">mirrors</a> = <a class="code" href="Constants_8h.html#a69a6241b4bcc0aabfba948607c27d34e" title="The number of mirrors each sphere starts with.">STARTING_MIRRORS</a>;
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a72a89bf94f27855ab09f6320b2ab6b51">mirrorTime</a> = 0;
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a3c6908c2f3e500f869a13f199c56cfca">mirrorTime</a> = 0;

}
</pre></div>
</div>
</div>
<a class="anchor" id="a0383e3bafc3f5da3d7b130a1d958a377"></a><!-- doxytag: member="ZeroRoboticsGameImpl::initLight" ref="a0383e3bafc3f5da3d7b130a1d958a377" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a0383e3bafc3f5da3d7b130a1d958a377">ZeroRoboticsGameImpl::initLight</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRLight_8cpp_source.html#l00016">16</a> of file <a class="el" href="ZRLight_8cpp_source.html">ZRLight.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                     {
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a3183d8326413430f344309a7940b88fc">direction</a> = 1;
<span class="preprocessor">  #ifdef ALLIANCE</span>
<span class="preprocessor"></span>
<span class="preprocessor">    #if (SPHERE_ID == SPHERE1)</span>
<span class="preprocessor"></span>      <span class="comment">//float s = ((float) rand()) / ((float) RAND_MAX);</span>
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a> = -0.2;  <span class="comment">//s * 1.6 - 0.8;</span>
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a40ab9ef359536d34bd1583f3c220ae88">nextSwitchTime</a> = -1; <span class="comment">// shouldn&#39;t be utilized</span>
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a2e378a26aa591e1005541d1711c1c25a">greyWidth</a> = <a class="code" href="Constants_8h.html#a624032e301af90d48463e5ca447bfaab" title="The width of the grey zone in the 2D/3D versions. The width of each grey zone in Alliance is LIGHT_GR...">LIGHT_GREY_WIDTH</a>*.5;
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#aadd253425a7ca816b7dc7097f524b450">lightWidth</a> = <a class="code" href="Constants_8h.html#a243a9b225e0ca67f425be26da9fb84f6" title="The width of the area that is not dark. Note that this includes the grey zone.">LIGHT_WIDTH</a>;
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span><span class="preprocessor">    #if (SPHERE_ID == SPHERE1)</span>
<span class="preprocessor"></span>      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a> = 0.0;
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a40ab9ef359536d34bd1583f3c220ae88">nextSwitchTime</a> = ((<span class="keywordtype">unsigned</span> int) rand()) % 30 + 30;
<span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a2e378a26aa591e1005541d1711c1c25a">greyWidth</a> = <a class="code" href="Constants_8h.html#a624032e301af90d48463e5ca447bfaab" title="The width of the grey zone in the 2D/3D versions. The width of each grey zone in Alliance is LIGHT_GR...">LIGHT_GREY_WIDTH</a>;
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="ac501ce5e4789b84cfbaab92c0171606d"></a><!-- doxytag: member="ZeroRoboticsGameImpl::instance" ref="ac501ce5e4789b84cfbaab92c0171606d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classZeroRoboticsGameImpl.html">ZeroRoboticsGameImpl</a> &amp; <a class="el" href="classZeroRoboticsGameImpl.html#ac501ce5e4789b84cfbaab92c0171606d">ZeroRoboticsGameImpl::instance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves singleton instance of the game implementation. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The game implementation singleton </dd></dl>
<p>Singleton instance of the game implementation </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00038">38</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {<span class="comment"></span>
<span class="comment">  ///Singleton instance of the game implementation</span>
<span class="comment"></span>  <span class="keyword">static</span> <a class="code" href="classZeroRoboticsGameImpl.html" title="This class defines the hidden game implementation.">ZeroRoboticsGameImpl</a> gameImplInstance(ZeroRoboticsAPIImpl::instance());
  <span class="keywordflow">return</span> gameImplInstance;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9256964207965603b6d65e54f9c4c5c1"></a><!-- doxytag: member="ZeroRoboticsGameImpl::isFacingEarth" ref="a9256964207965603b6d65e54f9c4c5c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#a9256964207965603b6d65e54f9c4c5c1">ZeroRoboticsGameImpl::isFacingEarth</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00196">196</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
  <span class="keywordtype">float</span> earth [3];
  memcpy(earth, <a class="code" href="Constants_8h.html#a0091979ce1d563ef4ce4e8ae869ffa1c" title="Contains the attitude towards Earth.">EARTH</a>, 3 * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
  <span class="keywordflow">return</span> mathVecInner(&amp;<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>[ZR_ATT_X], earth, 3) &gt; <a class="code" href="Constants_8h.html#a6b21f8ed238d4d02e213c3a86055a13e" title="Cosine of the angle at which pictures may be taken/uploaded.">MAX_FACING_ANGLE</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad08dddd59402ffbadf3a6b2a1081cbf2"></a><!-- doxytag: member="ZeroRoboticsGameImpl::isFacingOther" ref="ad08dddd59402ffbadf3a6b2a1081cbf2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#ad08dddd59402ffbadf3a6b2a1081cbf2">ZeroRoboticsGameImpl::isFacingOther</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00186">186</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
  <span class="keywordtype">bool</span> facing = <a class="code" href="classZeroRoboticsGameImpl.html#a01e366db202e3c9c01b84a586d1efabb">isFacingPos</a>(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a54b40a862d24e9670b7b133c1726edf6">zrState</a>);
  <span class="comment">//GAME_TRACE((&quot;isFacingOther: facing = %d| &quot;, facing));</span>
  <span class="keywordflow">return</span> facing;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a01e366db202e3c9c01b84a586d1efabb"></a><!-- doxytag: member="ZeroRoboticsGameImpl::isFacingPos" ref="a01e366db202e3c9c01b84a586d1efabb" args="(float position[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#a01e366db202e3c9c01b84a586d1efabb">ZeroRoboticsGameImpl::isFacingPos</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>position</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00174">174</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
  <span class="keywordtype">float</span> relativePos[3];
  mathVecSubtract(relativePos, position, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>, 3);
  mathVecNormalize(relativePos, 3);
  <span class="comment">//Check if generally pointing at the other satellite (dot product) and</span>
  <span class="comment">//if within a small margin of error (to account for noise)</span>
  <span class="comment">//after bugfix, increased allowed error to 0.25f from 0.0575f</span>
  <span class="comment">// MAX_FACING_ANGLE = 0.968912f is cosf(0.25f)</span>
  <span class="keywordtype">bool</span> facing = mathVecInner(&amp;<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>[ZR_ATT_X], relativePos, 3) &gt; <a class="code" href="Constants_8h.html#a6b21f8ed238d4d02e213c3a86055a13e" title="Cosine of the angle at which pictures may be taken/uploaded.">MAX_FACING_ANGLE</a>;
  <span class="keywordflow">return</span> facing;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af9d88e40a751f09b2b35273929140414"></a><!-- doxytag: member="ZeroRoboticsGameImpl::itemPickUp" ref="af9d88e40a751f09b2b35273929140414" args="(int objectNum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#af9d88e40a751f09b2b35273929140414">ZeroRoboticsGameImpl::itemPickUp</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>objectNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRItems_8cpp_source.html#l00135">135</a> of file <a class="el" href="ZRItems_8cpp_source.html">ZRItems.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/*</span>
<span class="comment">  This function will replicate that of the 2013 game&#39;s item PickUp function with</span>
<span class="comment">  a few minor changes.</span>
<span class="comment">  */</span>

  state_vector sphState;
  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getMySphState(sphState);
  <span class="keywordtype">float</span> dist,speed;
  dist = <a class="code" href="classZeroRoboticsGameImpl.html#a9b912e3356f041bbe5b041871bb3d8b6">dist3d</a>(sphState, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[mpNum]);
  speed = mathVecMagnitude(&amp;sphState[3],3);           <span class="comment">// VEL_X needs to be changed. - 3</span>
  <span class="keywordflow">if</span> (speed&lt;<a class="code" href="Constants_8h.html#a7edb377db8afb32dfe143e113c6ca892" title="The maximum speed at which an item may be picked up.">MP_SPEED</a> &amp;&amp; dist&lt;=<a class="code" href="Constants_8h.html#a55b87fe9d7f270227159b38b87ff929b" title="The maximum distance from which an item may be picked up.">MP_RADIUS</a>)
  {
    <span class="keywordflow">if</span> (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a63ad9a3a1453d1779e714c823d1a8696">mpTime</a>[mpNum] == <a class="code" href="Constants_8h.html#a1b8fa07e950b381bc1dbc3275438af3f">MP_EMPTY</a> &amp;&amp; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a7b880b464aa18719bd2cb93327927c4d">mpTime</a>[mpNum] == <a class="code" href="Constants_8h.html#a1b8fa07e950b381bc1dbc3275438af3f">MP_EMPTY</a>){
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a63ad9a3a1453d1779e714c823d1a8696">mpTime</a>[mpNum] = <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime();
      <span class="keywordflow">switch</span> (<a class="code" href="Constants_8h.html#ae3911d9ad467a7368d7029e28fc06b1c" title="Array that outlines the types of each item.">ITEM_TYPES</a>[mpNum]){
        <span class="keywordflow">case</span> <a class="code" href="Constants_8h.html#a383d186939c9221b0298950a6823f22d" title="The type identifier for a score item.">ITEM_TYPE_ADD_SCORE</a> : {<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3cee3821a3064e6f38ded9705cb694b2">score</a> = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3cee3821a3064e6f38ded9705cb694b2">score</a> + <a class="code" href="Constants_8h.html#a7fbbccf44189a6adbc3f7b3c72d9bcd6" title="The added score given by a score item.">ITEM_SCORE</a>;
                  GAME_TRACE((<span class="stringliteral">&quot;Score item picked up&quot;</span>));
                  <span class="keywordflow">break</span>;
              }
        <span class="comment">/*case ITEM_TYPE_ADD_MEMORY : {challInfo.camera.memorySize = challInfo.camera.memorySize + ITEM_MEMORY_SIZE;</span>
<span class="comment">                  GAME_TRACE((&quot;memory item picked up&quot;));</span>
<span class="comment">                  break;} */</span>
        <span class="keywordflow">case</span> <a class="code" href="Constants_8h.html#a61a22166dc04cbf14999d6ae481e8467" title="The type identifier for an energy item.">ITEM_TYPE_ADD_ENERGY</a>: {<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> + <a class="code" href="Constants_8h.html#a9ad7dd3cae809e77c6ea15ce2a93df77" title="The added energy given by an energy item.">ITEM_ENERGY</a>;
                  <span class="keywordflow">if</span> (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> &gt; <a class="code" href="Constants_8h.html#abf472630357fc73cf3f507ed2fa69074" title="Energy capacity.">MAX_ENERGY</a>) {
                    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> = <a class="code" href="Constants_8h.html#abf472630357fc73cf3f507ed2fa69074" title="Energy capacity.">MAX_ENERGY</a>;
                  }
                  GAME_TRACE((<span class="stringliteral">&quot;energy item picked up&quot;</span>));
                  <span class="keywordflow">break</span>;}
        <span class="keywordflow">case</span> <a class="code" href="Constants_8h.html#ac06a76e63ba568776e5c4b34d669ad8b" title="The type identifier for a mirror.">ITEM_TYPE_MIRROR</a>:{  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a81124c85a7a5019de80334d1672c1e13">mirrors</a> += 1;
                GAME_TRACE((<span class="stringliteral">&quot;Mirror picked up&quot;</span>));
                <span class="keywordflow">break</span>;
              }
      }
      GAME_TRACE((<span class="stringliteral">&quot;score: %f, energy: %f, memorySize: %d&quot;</span>, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3cee3821a3064e6f38ded9705cb694b2">score</a>, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a>, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad11dedf42ae2311a21d7d2f6ca9b5849">memorySize</a>));




    }
<span class="comment">/*</span>
<span class="comment">    if (!challInfo.me.acquiringMP[mpNum] &amp;&amp; mathVecMagnitude(&amp;sphState[RATE_X],3) &lt;= MAX_START_MP)</span>
<span class="comment">    {</span>
<span class="comment">      challInfo.me.acquiringMP[mpNum] = true;</span>
<span class="comment">      memcpy(challInfo.me.initQuat,&amp;sphState[QUAT_1],4*sizeof(float));</span>
<span class="comment">    }</span>
<span class="comment">    if (challInfo.me.acquiringMP[mpNum] &amp;&amp; fabsf(mathVecInner(challInfo.me.initQuat,&amp;sphState[QUAT_1],4)) &lt; MP_ROTATION_ANGLE)</span>
<span class="comment">    {</span>
<span class="comment">      challInfo.me.acquiringMP[mpNum] = false;</span>
<span class="comment">      //Check for item pickup: item not already picked up by either player,</span>
<span class="comment">      //and item conditions have been met</span>
<span class="comment">      if (challInfo.me.mpTime[mpNum] == MP_EMPTY &amp;&amp; challInfo.other.mpTime[mpNum] == MP_EMPTY)</span>
<span class="comment">      {</span>
<span class="comment">        //Record pickup time with game time</span>
<span class="comment">        challInfo.me.mpTime[mpNum] = apiImpl.api-&gt;getTime();</span>
<span class="comment">        //challInfo.camera.memorySize++;</span>
<span class="comment">        challInfo.me.score = challInfo.me.score + ITEM_SCORE;</span>
<span class="comment">        GAME_TRACE((&quot;[%d] picked up item %d | &quot;, apiImpl.api-&gt;getTime(), mpNum));</span>
<span class="comment">      }</span>
<span class="comment">    }</span>
<span class="comment">*/</span>
  }
  <span class="keywordflow">else</span>
  {
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a50ae6cc5a159d77614a5a5b92e39ec67">acquiringMP</a>[mpNum] = <span class="keyword">false</span>;
  }
  <span class="keywordflow">return</span> <span class="keyword">false</span>;

  <span class="comment">// return true;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8cf779cbaea1615a7edde4b9f9140ca1"></a><!-- doxytag: member="ZeroRoboticsGameImpl::limitDirection" ref="a8cf779cbaea1615a7edde4b9f9140ca1" args="(state_vector ctrlState, float ctrlControl[6], unsigned int idx, float dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a8cf779cbaea1615a7edde4b9f9140ca1">ZeroRoboticsGameImpl::limitDirection</a> </td>
          <td>(</td>
          <td class="paramtype">state_vector&#160;</td>
          <td class="paramname"><em>ctrlState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>ctrlControl</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Limits the direction in which the programmed SPHERE can travel and slows down the velocity if it travels in the direction of the limit. </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00407">407</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// if command is to move out further in same direction as limit</span>
  <span class="keywordflow">if</span> (ctrlControl[idx]*dir &gt;= 0.0f)
  {
    ctrlControl[idx] = -1.0f * <a class="code" href="Constants_8h.html#a229ca0f78fefec4d51f2fbb3200c552c">OOBgain</a> * ctrlState[<a class="code" href="Constants_8h.html#ae66b85843e8088d67253d681826f4741" title="The index for the beginning of the velocity array inside of ZRState.">VEL_X</a>+idx];  <span class="comment">// slow down to get 0 velocity (ignore position)</span>
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaf974d5f8a4d6e46e717ba66569b269d"></a><!-- doxytag: member="ZeroRoboticsGameImpl::memoryLoss" ref="aaf974d5f8a4d6e46e717ba66569b269d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#aaf974d5f8a4d6e46e717ba66569b269d">ZeroRoboticsGameImpl::memoryLoss</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00035">35</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  memset(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad6eeeb89f1de80221a026b47f95a2a0c">memory</a>,0,<a class="code" href="Constants_8h.html#a3c6863484e00775de51028912e5196d4" title="The number of memory slots the camera may have at a maximum.">CAMERA_MAX_MEMORY</a>*<span class="keyword">sizeof</span>(Picture));  <span class="comment">// erase memory</span>
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a> = 0;                                    <span class="comment">// reset counter</span>
  GAME_TRACE((<span class="stringliteral">&quot;[%d] memory CLEARED | &quot;</span>, <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime()));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7802e51a36441a2605b3269654429be5"></a><!-- doxytag: member="ZeroRoboticsGameImpl::modify2DForceTorque" ref="a7802e51a36441a2605b3269654429be5" args="(float forceTorque[6])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a7802e51a36441a2605b3269654429be5">ZeroRoboticsGameImpl::modify2DForceTorque</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>forceTorque</em>[6]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00166">166</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  state_vector myState, targetState;
  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getMySphState(myState);
  memcpy(targetState, myState, <span class="keyword">sizeof</span>(state_vector));   
  
  targetState[POS_Z] = 0.0f;
  targetState[VEL_Z] = 0.0f;
  targetState[10] = 0.0f;
  targetState[11] = 0.0f;
  targetState[12] = 0.0f;

  <span class="keywordtype">float</span> q_sw[4], q_tw[4];
  <span class="keywordtype">float</span> axis[3] = {0.0f, 0.0f, -1.0f};
  <a class="code" href="ZRGameInternal_8cpp.html#a4ca7db1b9b84e104c17085b297997046">swingTwistDecomposition</a>(&amp;targetState[QUAT_1], q_sw, q_tw, axis);
  <a class="code" href="ZRGameInternal_8cpp.html#ae1d03466d9f108554fc6651a4dc99e35">quatToPositive</a>(q_tw);
  memcpy(&amp;targetState[QUAT_1], q_tw, 4*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
  
  state_vector error;
  findStateError(error, myState, targetState);

  <span class="keywordtype">float</span> newForces[6] = {0};
  
  ctrlPositionPD(KPpositionPD, KDpositionPD, error, newForces);
  ctrlAttitudeNLPIDwie(KPattitudePID, KIattitudePID, KDattitudePID, 
             KPattitudePID, KIattitudePID, KDattitudePID, 
             KPattitudePID, KIattitudePID, KDattitudePID, 
             1.0f, error, newForces);
  forceTorque[FORCE_Z] = newForces[FORCE_Z];
  forceTorque[TORQUE_X] = newForces[TORQUE_X];
  forceTorque[TORQUE_Y] = newForces[TORQUE_Y];
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae006a783294bebfeb08e75106999e0a4"></a><!-- doxytag: member="ZeroRoboticsGameImpl::photoBomb" ref="ae006a783294bebfeb08e75106999e0a4" args="(float zrState[12], float poiLoc[3])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#ae006a783294bebfeb08e75106999e0a4">ZeroRoboticsGameImpl::photoBomb</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>zrState</em>[12], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>poiLoc</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a73a31ac55f0b46a131a16f76db0d9c1c"></a><!-- doxytag: member="ZeroRoboticsGameImpl::picPointsImpl" ref="a73a31ac55f0b46a131a16f76db0d9c1c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classZeroRoboticsGameImpl.html#a73a31ac55f0b46a131a16f76db0d9c1c">ZeroRoboticsGameImpl::picPointsImpl</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00079">79</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">// check if other in light or grey zone, camera is on, the spheres are facing</span>
  <span class="keywordtype">bool</span> isCameraOn = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a840ab79be6fe8863917f53c30d0df05b">cameraOn</a>;
  <span class="keywordtype">bool</span> isFacingOtherResult = <a class="code" href="classZeroRoboticsGameImpl.html#ad08dddd59402ffbadf3a6b2a1081cbf2">isFacingOther</a>();
  <span class="keywordtype">bool</span> isOppNotInDarkZone = !<a class="code" href="classZeroRoboticsGameImpl.html#a2486f09445bfc3a17b75fa2b395ca851">sphereInDark</a>(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a54b40a862d24e9670b7b133c1726edf6">zrState</a>);
  <span class="keywordtype">bool</span> myMirror = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a72a89bf94f27855ab09f6320b2ab6b51">mirrorTime</a> != 0 &amp;&amp; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a72a89bf94f27855ab09f6320b2ab6b51">mirrorTime</a> + <a class="code" href="Constants_8h.html#a65814678a69363951eb96d04d03d188a" title="The length a mirror lasts once activated.">ITEM_MIRROR_DURATION</a> &gt; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a>;
  <span class="keywordtype">bool</span> otherMirror = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a3c6908c2f3e500f869a13f199c56cfca">mirrorTime</a> != 0 &amp;&amp; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a3c6908c2f3e500f869a13f199c56cfca">mirrorTime</a> + <a class="code" href="Constants_8h.html#a65814678a69363951eb96d04d03d188a" title="The length a mirror lasts once activated.">ITEM_MIRROR_DURATION</a> &gt; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a>;
  <span class="keywordtype">float</span> picturePointValue = 0;
  <span class="keywordflow">if</span> (isCameraOn &amp;&amp; isFacingOtherResult &amp;&amp; isOppNotInDarkZone &amp;&amp; !myMirror)
  {
    <span class="keywordtype">float</span> bet[3], distance;
    mathVecSubtract(bet, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a54b40a862d24e9670b7b133c1726edf6">zrState</a>, 3);
    distance = mathVecMagnitude(bet, 3);

    <span class="keywordflow">if</span> (distance &lt; <a class="code" href="Constants_8h.html#a51dfa318c35486077389da868b2bd097" title="The minimum distance the sphere may be from the target of its photograph.">PHOTO_MIN_DISTANCE</a>) {
      GAME_TRACE((<span class="stringliteral">&quot;Not a good shot: too close to the other satellite | &quot;</span>));
      <span class="keywordflow">return</span> 0.0;
    }
    picturePointValue = 2.0 + 0.1/(distance - <a class="code" href="Constants_8h.html#a51dfa318c35486077389da868b2bd097" title="The minimum distance the sphere may be from the target of its photograph.">PHOTO_MIN_DISTANCE</a> + 0.1);
    <span class="keywordflow">if</span>(otherMirror){
<span class="preprocessor">      #ifdef ZR2D</span>
<span class="preprocessor"></span>      picturePointValue = 0;
<span class="preprocessor">      #else</span>
<span class="preprocessor"></span>      picturePointValue = -1*picturePointValue;
<span class="preprocessor">      #endif</span>
<span class="preprocessor"></span>      GAME_TRACE((<span class="stringliteral">&quot;Not a good shot: Opposing mirror active %f|&quot;</span>, picturePointValue));
    }

  }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!isCameraOn){
    GAME_TRACE((<span class="stringliteral">&quot;Not a good shot: camera off |&quot;</span>));
  }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(myMirror){
    GAME_TRACE((<span class="stringliteral">&quot;Not a good shot: my mirror&#39;s in the way |&quot;</span>));
  }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!isFacingOtherResult) {
        GAME_TRACE((<span class="stringliteral">&quot;Not a good shot: not facing the other satellite | &quot;</span>));
    }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!isOppNotInDarkZone){
    GAME_TRACE((<span class="stringliteral">&quot;Not a good shot: opponent in dark zone |&quot;</span>));
  }
  <span class="keywordflow">return</span> picturePointValue;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a47904ea3196c7b380138e09390a916b4"></a><!-- doxytag: member="ZeroRoboticsGameImpl::processRXData" ref="a47904ea3196c7b380138e09390a916b4" args="(default_rfm_packet packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a47904ea3196c7b380138e09390a916b4">ZeroRoboticsGameImpl::processRXData</a> </td>
          <td>(</td>
          <td class="paramtype">default_rfm_packet&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(Required) Processes SPHERES telemetry data </p>

<p>Definition at line <a class="el" href="ZRCommRoutines_8cpp_source.html#l00011">11</a> of file <a class="el" href="ZRCommRoutines_8cpp_source.html">ZRCommRoutines.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (packet[PKT_CM] == COMM_CMD_DBG_SHORT_SIGNED)
  {
    dbg_short_packet DebugVecShort;
    memcpy(DebugVecShort, &amp;packet[PKT_DATA], <span class="keyword">sizeof</span>(dbg_short_packet));
    <span class="keywordflow">if</span> (ctrlManeuverNumGet() &gt; 2)
    {
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a>; i++){
        <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a7b880b464aa18719bd2cb93327927c4d">mpTime</a>[i] = DebugVecShort[i+1];

      }
      <span class="comment">// copy general data during game run</span>
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a3c6908c2f3e500f869a13f199c56cfca">mirrorTime</a> = DebugVecShort[14];
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a76fcfa73646005f402799f353c06fc22">message</a> = DebugVecShort[15];
    }
    <span class="keywordflow">else</span> {
      <span class="comment">// initialization data for items</span>
      <span class="keywordflow">if</span> (DebugVecShort[0] == 0){
<span class="preprocessor">        #if (SPHERE_ID == SPHERE1)</span>
<span class="preprocessor"></span>          <span class="comment">// get data from SPHERE2</span>
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a> - 5; i++){
                  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i + 5][0] = DebugVecShort[3*i + 1] / 10000.0f;
                  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i + 5][1] = DebugVecShort[3*i + 2] / 10000.0f;
                  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i + 5][2] = DebugVecShort[3*i + 3] / 10000.0f;
          }
<span class="preprocessor">        #else</span>
<span class="preprocessor"></span>          <span class="comment">// get data from SPHERE1</span>
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 5; i++){
                  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i][0] = DebugVecShort[3*i + 1] / 10000.0f;
                  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i][1] = DebugVecShort[3*i + 2] / 10000.0f;
                  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i][2] = DebugVecShort[3*i + 3] / 10000.0f;
          }

<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>      }
    }
  }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (packet[PKT_CM] == COMM_CMD_DBG_SHORT_UNSIGNED)
  {
    dbg_ushort_packet DebugVecUShort;
    memcpy(DebugVecUShort, &amp;packet[PKT_DATA], <span class="keyword">sizeof</span>(dbg_ushort_packet));
      <span class="keywordtype">int</span> cmn = ctrlManeuverNumGet();
      <span class="comment">// printf(&quot;cmn %d\n&quot;,cmn);</span>
      <span class="comment">// recieve initialization packet (control maneuver 1)</span>
      <span class="keywordflow">if</span> (cmn &lt; 3){
<span class="preprocessor">        #if (SPHERE_ID == SPHERE2)</span>
<span class="preprocessor"></span>          <span class="comment">// printf(&quot;Init DebugVecShort Received by Sphere 2: %d (should be 0), %d\n&quot;, DebugVecShort[0], cmn);</span>
          <span class="comment">// make sure its one of our initialization packets, all other debugVecShort[0] are time * 10, so they are larger than 0</span>
          <span class="keywordflow">if</span> (DebugVecUShort[0] == 0)
          {
            <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a40ab9ef359536d34bd1583f3c220ae88">nextSwitchTime</a> = (int) DebugVecUShort[1];
          }

<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>      }

    <span class="comment">//challInfo.other.mpTime[0] = DebugVecUShort[1];</span>
    <span class="comment">//challInfo.other.mpTime[1] = DebugVecUShort[2];</span>
  }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (packet[PKT_CM] == COMM_CMD_DBG_FLOAT)
  {
    dbg_float_packet DebugVecFloat;
    memcpy(DebugVecFloat, &amp;packet[PKT_DATA], <span class="keyword">sizeof</span>(dbg_float_packet));
    <span class="keywordtype">int</span> cmn = ctrlManeuverNumGet();
    <span class="keywordflow">if</span> (cmn &lt; 3) {
<span class="preprocessor">        #if (SPHERE_ID == SPHERE2)</span>
<span class="preprocessor"></span>          <span class="comment">//printf(&quot;Init DebugVecFloat Received by Sphere 2: %f (should be -1), %d\n&quot;, DebugVecFloat[0], cmn);</span>
          <span class="comment">// make sure its one of our initialization packets. tstep should be nonnegative, I think.</span>
        <span class="keywordflow">if</span> (DebugVecFloat[0] == 0.0f)
        {
          <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a> = DebugVecFloat[1];
          <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a3183d8326413430f344309a7940b88fc">direction</a> = DebugVecFloat[2];

          <span class="keywordflow">return</span>;
        }
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>    }
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#acb2c44bf0887343b80eb1b4e932b9dbe">score</a> = DebugVecFloat[1];
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a533f5d10d55bd7539d009ce0b27477f7">energy</a> = DebugVecFloat[3];
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98622dbb22c0981ef67da6eb23a7b4d0"></a><!-- doxytag: member="ZeroRoboticsGameImpl::randomizeStartingLocs" ref="a98622dbb22c0981ef67da6eb23a7b4d0" args="(int itemID, int coord)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classZeroRoboticsGameImpl.html#a98622dbb22c0981ef67da6eb23a7b4d0">ZeroRoboticsGameImpl::randomizeStartingLocs</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>itemID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>coord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8a66e2238ce005caecdae3d30748006d"></a><!-- doxytag: member="ZeroRoboticsGameImpl::resetPicsTaken" ref="a8a66e2238ce005caecdae3d30748006d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a8a66e2238ce005caecdae3d30748006d">ZeroRoboticsGameImpl::resetPicsTaken</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adbaead014c33f537ced25d9f75ed5d93"></a><!-- doxytag: member="ZeroRoboticsGameImpl::resolveCollision" ref="adbaead014c33f537ced25d9f75ed5d93" args="(float zrState[12], float forceTorqueOut[6])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#adbaead014c33f537ced25d9f75ed5d93">ZeroRoboticsGameImpl::resolveCollision</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>zrState</em>[12], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>forceTorqueOut</em>[6]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00417">417</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;3; i++)
  {
    <span class="keywordflow">if</span> (zrState[i] &gt; 0)
      <a class="code" href="classZeroRoboticsGameImpl.html#a8cf779cbaea1615a7edde4b9f9140ca1" title="Limits the direction in which the programmed SPHERE can travel and slows down the velocity if it trav...">limitDirection</a>(zrState, forceTorqueOut, i, -1.0f);
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (zrState[i] &lt; 0)
      <a class="code" href="classZeroRoboticsGameImpl.html#a8cf779cbaea1615a7edde4b9f9140ca1" title="Limits the direction in which the programmed SPHERE can travel and slows down the velocity if it trav...">limitDirection</a>(zrState, forceTorqueOut, i, 1.0f);
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a45e62f5b9b517dd69a91e5f8da28d05e"></a><!-- doxytag: member="ZeroRoboticsGameImpl::sendDebug" ref="a45e62f5b9b517dd69a91e5f8da28d05e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a45e62f5b9b517dd69a91e5f8da28d05e">ZeroRoboticsGameImpl::sendDebug</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(Required) Called on every gspControl control cycle, It should be used to send debug and telemetry information to the ground. </p>

<p>Definition at line <a class="el" href="ZRCommRoutines_8cpp_source.html#l00094">94</a> of file <a class="el" href="ZRCommRoutines_8cpp_source.html">ZRCommRoutines.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  dbg_short_packet  DebugVecShort; <span class="comment">// short[16]</span>
  dbg_ushort_packet DebugVecUShort; <span class="comment">// ushort[16]</span>
  dbg_float_packet  DebugVecFloat; <span class="comment">// float[8]</span>
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tstep;

  <span class="comment">// send debug after estimator convergence</span>
  <span class="keywordflow">if</span> (ctrlManeuverNumGet() &lt; 3)
  {
    <a class="code" href="classZeroRoboticsGameImpl.html#a6c210b71d6770b9488f0c92ae7bdc4e9" title="for Corona SPHERES: sends POI &amp; Solar Flare info to Sat 2 at start of game">sendInit</a>();
  }
  <span class="keywordflow">if</span> (ctrlManeuverNumGet() &gt; 1)
  {
    <span class="comment">// normal game packages</span>
    tstep = <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime();

    <span class="keywordflow">if</span> (!tstep) <span class="keywordflow">return</span>;   <span class="comment">// only send starting with time 1, since time 0 can cause problems with initialization</span>

    <span class="comment">// initialize all packets to 0</span>
    memset(DebugVecShort,  0, <span class="keyword">sizeof</span>(dbg_short_packet));
    memset(DebugVecUShort, 0, <span class="keyword">sizeof</span>(dbg_ushort_packet));
    memset(DebugVecFloat,  0, <span class="keyword">sizeof</span>(dbg_float_packet));

    <span class="comment">// debug short: POIs currently visible, other sat message, flare status</span>
    DebugVecShort[0]  = (short)(tstep*10);            <span class="comment">//Timestamp</span>
    DebugVecShort[13] = <a class="code" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c" title="Back pointer to the game instance.">game</a>-&gt;<a class="code" href="classZeroRoboticsGame.html#ac26f91e28e76d3c7881e4fefa6675664" title="Returns the amount of time left on your current mirror.">getMirrorTimeRemaining</a>();
    DebugVecShort[14] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a72a89bf94f27855ab09f6320b2ab6b51">mirrorTime</a>;

    <span class="comment">//items</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a>; i++){
      DebugVecShort[i + 1] = (<span class="keywordtype">unsigned</span> short) <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a63ad9a3a1453d1779e714c823d1a8696">mpTime</a>[i];
    }

    DebugVecShort[15] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a071cd044935423da16c3a2d4f93a6c94">message</a>;                   <span class="comment">//message sent between players</span>

    <span class="comment">// unsigned short debug packet: status of game variables, known flare times</span>
    DebugVecUShort[0] = (<span class="keywordtype">unsigned</span> short)(tstep*10); <span class="comment">//Timestamp</span>


    DebugVecUShort[7] = (<span class="keywordtype">unsigned</span> short) (<a class="code" href="classZeroRoboticsGameImpl.html#af97fc0f54d62302c4d4bcb83b4075e7b">sphereInLight</a>(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>));
    DebugVecUShort[7] &lt;&lt;= 1;
    DebugVecUShort[7] += (<span class="keywordtype">unsigned</span> short) (<a class="code" href="classZeroRoboticsGameImpl.html#a2486f09445bfc3a17b75fa2b395ca851">sphereInDark</a>(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>));

    DebugVecUShort[8] = (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a3183d8326413430f344309a7940b88fc">direction</a> &gt; 0);
    DebugVecUShort[9] = (<span class="keywordtype">unsigned</span> short) (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a8c3167b2d5509410a5f4a554760a3f7a">tookPicture</a>);
    DebugVecUShort[10] = (<span class="keywordtype">unsigned</span> short) (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a6e720c1d911b726926d3f1651f8ce6ff">uploadedPictures</a>);
    DebugVecUShort[11] = (<span class="keywordtype">unsigned</span> short) (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a840ab79be6fe8863917f53c30d0df05b">cameraOn</a>);
    DebugVecUShort[13] = (<span class="keywordtype">unsigned</span> short) (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad11dedf42ae2311a21d7d2f6ca9b5849">memorySize</a>);
    DebugVecUShort[14] = (<span class="keywordtype">unsigned</span> short) (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a>);

    <span class="comment">//Float debug packet: score, fuel, forces</span>
    DebugVecFloat[0] = (float)tstep;
    DebugVecFloat[1] = <a class="code" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c" title="Back pointer to the game instance.">game</a>-&gt;<a class="code" href="classZeroRoboticsGame.html#accfa1dd26fec4f6720486328306064e8" title="Returns the player&#39;s current score.">getScore</a>();
    DebugVecFloat[2] = <a class="code" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c" title="Back pointer to the game instance.">game</a>-&gt;<a class="code" href="classZeroRoboticsGame.html#aa00ac2c0ebfd773384789f4496a9bfd3">getFuelRemaining</a>() / ((double)<a class="code" href="Constants_8h.html#a948058c84c54a63c0c538fa70abe94e2" title="Total time in thruster-seconds allowed per user. Full tank ~500 seconds.">PROP_ALLOWED_SECONDS</a>);
    DebugVecFloat[3] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a>;
    DebugVecFloat[4] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a>;

    memcpy(&amp;DebugVecFloat[5], <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#afdb358c05f9325830ddd33336ee1be2c">userForces</a>, 3*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)); <span class="comment">//Forces for reference</span>

    <span class="comment">//Send packets to other SPHERES/ground/sim; do not modify below this line</span>
    commSendPacket(COMM_CHANNEL_STL, BROADCAST, 0, COMM_CMD_DBG_SHORT_SIGNED, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) DebugVecShort,0);
    commSendPacket(COMM_CHANNEL_STL, BROADCAST, 0, COMM_CMD_DBG_FLOAT, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) DebugVecFloat,0);
    commSendPacket(COMM_CHANNEL_STL, BROADCAST, 0, COMM_CMD_DBG_SHORT_UNSIGNED, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) DebugVecUShort,0);

<span class="preprocessor">  #ifdef ZRSIMULATION</span>
<span class="preprocessor"></span>    <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.ZRUserDbgVec[0] = (float)tstep;
    commSendPacket(COMM_CHANNEL_STL, GROUND, sysIdentityGet(), COMM_CMD_DBG_ZRUSER, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.ZRUserDbgVec,0);
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6c210b71d6770b9488f0c92ae7bdc4e9"></a><!-- doxytag: member="ZeroRoboticsGameImpl::sendInit" ref="a6c210b71d6770b9488f0c92ae7bdc4e9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a6c210b71d6770b9488f0c92ae7bdc4e9">ZeroRoboticsGameImpl::sendInit</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>for Corona SPHERES: sends POI &amp; Solar Flare info to Sat 2 at start of game </p>

<p>Definition at line <a class="el" href="ZRCommRoutines_8cpp_source.html#l00166">166</a> of file <a class="el" href="ZRCommRoutines_8cpp_source.html">ZRCommRoutines.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">  #if (SPHERE_ID == SPHERE1)</span>
<span class="preprocessor"></span>      dbg_short_packet DebugVecShort;
      dbg_ushort_packet DebugVecUShort;
      dbg_float_packet DebugVecFloat;

    <span class="comment">// sends light information to second satellite</span>
    memset(DebugVecShort,  0, <span class="keyword">sizeof</span>(dbg_short_packet));    <span class="comment">// initialize packets to 0</span>
    memset(DebugVecUShort,  0, <span class="keyword">sizeof</span>(dbg_ushort_packet));
    memset(DebugVecFloat,  0, <span class="keyword">sizeof</span>(dbg_float_packet));

    DebugVecShort[0] = 0;

    <span class="keywordtype">int</span> upTo = 5;
    <span class="keywordflow">if</span> (<a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a> &lt; upTo) {
      upTo = <a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a>;
    }

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; upTo; i++) {
      DebugVecShort[3*i + 1] = 10000 * <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i][0];
      DebugVecShort[3*i + 2] = 10000 * <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i][1];
      DebugVecShort[3*i + 3] = 10000 * <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i][2];
    }

    DebugVecUShort[0] = 0;
    DebugVecUShort[1] = (short)0 + (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a40ab9ef359536d34bd1583f3c220ae88">nextSwitchTime</a>);

<span class="preprocessor">    #ifdef ALLIANCE</span>
<span class="preprocessor"></span>      DebugVecUShort[2] = 3;
<span class="preprocessor">    #else</span>
<span class="preprocessor"></span><span class="preprocessor">      #ifdef ZR3D</span>
<span class="preprocessor"></span>        DebugVecUShort[2] = 2;
<span class="preprocessor">      #else</span>
<span class="preprocessor"></span><span class="preprocessor">        #ifdef ZR2D</span>
<span class="preprocessor"></span>          DebugVecUShort[2] = 1;
<span class="preprocessor">        #else</span>
<span class="preprocessor"></span>          DebugVecUShort[2] = 0;
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span><span class="preprocessor">      #endif</span>
<span class="preprocessor"></span><span class="preprocessor">    #endif</span>
<span class="preprocessor"></span>
    DebugVecUShort[3] = <a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a>;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a>; i++)
    {
      DebugVecUShort[4 + i] = <a class="code" href="Constants_8h.html#ae3911d9ad467a7368d7029e28fc06b1c" title="Array that outlines the types of each item.">ITEM_TYPES</a>[i];
    }

      DebugVecFloat[0] = 0.0f;
      DebugVecFloat[1] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a>;
      DebugVecFloat[2] = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a3183d8326413430f344309a7940b88fc">direction</a>;

    commSendPacket(COMM_CHANNEL_STL, BROADCAST, 0, COMM_CMD_DBG_SHORT_SIGNED, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) DebugVecShort,0);
    commSendPacket(COMM_CHANNEL_STL, BROADCAST, 0, COMM_CMD_DBG_SHORT_UNSIGNED, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) DebugVecUShort,0);
    commSendPacket(COMM_CHANNEL_STL, BROADCAST, 0, COMM_CMD_DBG_FLOAT, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) DebugVecFloat,0);
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span><span class="preprocessor">  #if (SPHERE_ID == SPHERE2)</span>
<span class="preprocessor"></span>      dbg_short_packet DebugVecShort;
      DebugVecShort[0] = 0;

      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; NUM_ITEMS - 5; i++)
      {
        DebugVecShort[3*i + 1] = 10000 * <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i+5][0];
        DebugVecShort[3*i + 2] = 10000 * <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i+5][1];
        DebugVecShort[3*i + 3] = 10000 * <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a246660a1c3e6136fa43661590845f46e">mpLoc</a>[i+5][2];
      }

      commSendPacket(COMM_CHANNEL_STL, BROADCAST, 0, COMM_CMD_DBG_SHORT_SIGNED, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) DebugVecShort,0);
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a2486f09445bfc3a17b75fa2b395ca851"></a><!-- doxytag: member="ZeroRoboticsGameImpl::sphereInDark" ref="a2486f09445bfc3a17b75fa2b395ca851" args="(float position[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#a2486f09445bfc3a17b75fa2b395ca851">ZeroRoboticsGameImpl::sphereInDark</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>position</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRLight_8cpp_source.html#l00103">103</a> of file <a class="el" href="ZRLight_8cpp_source.html">ZRLight.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
<span class="preprocessor">  #ifdef ALLIANCE</span>
<span class="preprocessor"></span>  <span class="keywordflow">return</span> <a class="code" href="classZeroRoboticsGameImpl.html#a2fc1cc700255f5f1548d7c49453e2cda">sphereInMovingArea</a>(position) == -1;
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>  <span class="keywordflow">return</span> <a class="code" href="classZeroRoboticsGameImpl.html#a64e853729e517d1bf047782e7eea0968">sphereInSwitchingArea</a>(position) == -1;
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="af97fc0f54d62302c4d4bcb83b4075e7b"></a><!-- doxytag: member="ZeroRoboticsGameImpl::sphereInLight" ref="af97fc0f54d62302c4d4bcb83b4075e7b" args="(float position[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#af97fc0f54d62302c4d4bcb83b4075e7b">ZeroRoboticsGameImpl::sphereInLight</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>position</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRLight_8cpp_source.html#l00095">95</a> of file <a class="el" href="ZRLight_8cpp_source.html">ZRLight.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {
<span class="preprocessor">  #ifdef ALLIANCE</span>
<span class="preprocessor"></span>  <span class="keywordflow">return</span> <a class="code" href="classZeroRoboticsGameImpl.html#a2fc1cc700255f5f1548d7c49453e2cda">sphereInMovingArea</a>(position) == 1;
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>  <span class="keywordflow">return</span> <a class="code" href="classZeroRoboticsGameImpl.html#a64e853729e517d1bf047782e7eea0968">sphereInSwitchingArea</a>(position) == 1;
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a2fc1cc700255f5f1548d7c49453e2cda"></a><!-- doxytag: member="ZeroRoboticsGameImpl::sphereInMovingArea" ref="a2fc1cc700255f5f1548d7c49453e2cda" args="(float position[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classZeroRoboticsGameImpl.html#a2fc1cc700255f5f1548d7c49453e2cda">ZeroRoboticsGameImpl::sphereInMovingArea</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>position</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRLight_8cpp_source.html#l00071">71</a> of file <a class="el" href="ZRLight_8cpp_source.html">ZRLight.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{

  <span class="keywordtype">float</span> <span class="keyword">interface </span>= <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.light.center; <span class="comment">// Start of Light Zone</span>
  <span class="keywordtype">float</span> outerface = <span class="keyword">interface </span>+ <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.light.lightWidth; <span class="comment">// End of light zone</span>
  <span class="keywordflow">if</span>(outerface &gt; <a class="code" href="Constants_8h.html#a2a192e039a1ea48e8bd8ea6a8f7fcf3c" title="The highest Y coordinate in bounds.">ZONE_pY</a>)
    outerface -= 2*<a class="code" href="Constants_8h.html#a2a192e039a1ea48e8bd8ea6a8f7fcf3c" title="The highest Y coordinate in bounds.">ZONE_pY</a>; <span class="comment">// Wraparound</span>
  <span class="keywordtype">float</span> halfWidth = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a2e378a26aa591e1005541d1711c1c25a">greyWidth</a>*.5; <span class="comment">// Grey width on either side</span>
  <span class="keywordflow">if</span> ((interface - halfWidth &lt;= position[1] &amp;&amp; interface + halfWidth &gt;= position[1]) || <span class="comment">// In the first grey zone</span>
      (outerface - halfWidth &lt;= position[1] &amp;&amp; outerface + halfWidth &gt;= position[1]) || <span class="comment">// In the second gray zone</span>
      (position[0] &gt;= <a class="code" href="Constants_8h.html#ae8720921ccaa2f5783a88363293400fc" title="The highest X coordinate in bounds.">ZONE_pX</a> || position[1] &gt;= <a class="code" href="Constants_8h.html#a2a192e039a1ea48e8bd8ea6a8f7fcf3c" title="The highest Y coordinate in bounds.">ZONE_pY</a> || position[2] &gt;= <a class="code" href="Constants_8h.html#a183d6d23661e3af78ee0019f0a2f73b0" title="The highest Z coordinate in bounds.">ZONE_pZ</a>) || <span class="comment">// Out of bounds positive</span>
      (position[0] &lt;= <a class="code" href="Constants_8h.html#a07e3fb5cba1f892ffe41e08adcb618d6" title="The lowest X coordinate in bounds.">ZONE_nX</a> || position[1] &lt;= <a class="code" href="Constants_8h.html#ae0fe1b595399a0d818899198b00245cd" title="The lowest Y coordinate in bounds.">ZONE_nY</a> || position[2] &lt;= <a class="code" href="Constants_8h.html#ab5705e7d2a9b731053e1e4aef6fbaecf" title="The lowest Z coordinate in bounds.">ZONE_nZ</a>)) <span class="comment">// Out of bounds negatively</span>
  {
    <span class="keywordflow">return</span> 0; <span class="comment">// Gray </span>
  }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((outerface &gt; position[1] &amp;&amp; (interface &lt; position[1] || outerface &lt; interface)) || <span class="comment">// before the end of the light zone and Either after the beginning or the end has wrapped around</span>
          (interface &lt; position[1] &amp;&amp; outerface &lt; interface))  <span class="comment">// or it&#39;s after the beginning and the end has wrapped</span>
  {
    <span class="keywordflow">return</span> 1; <span class="comment">//Light</span>
  }

  <span class="keywordflow">return</span> -1; <span class="comment">// Dark</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a64e853729e517d1bf047782e7eea0968"></a><!-- doxytag: member="ZeroRoboticsGameImpl::sphereInSwitchingArea" ref="a64e853729e517d1bf047782e7eea0968" args="(float position[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classZeroRoboticsGameImpl.html#a64e853729e517d1bf047782e7eea0968">ZeroRoboticsGameImpl::sphereInSwitchingArea</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>position</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRLight_8cpp_source.html#l00061">61</a> of file <a class="el" href="ZRLight_8cpp_source.html">ZRLight.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                {
  <span class="keywordtype">float</span> center = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a>;
  <span class="keywordtype">float</span> diff = position[1] - center;
  diff *= <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a3183d8326413430f344309a7940b88fc">direction</a>; <span class="comment">// adjust for light direction</span>

  <span class="keywordflow">if</span> (diff &gt; -<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a2e378a26aa591e1005541d1711c1c25a">greyWidth</a>/2 &amp;&amp; diff &lt; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a2e378a26aa591e1005541d1711c1c25a">greyWidth</a>/2) <span class="keywordflow">return</span> 0;
  <span class="keywordflow">if</span> (diff &lt; 0) <span class="keywordflow">return</span> -1;
  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab3979270376c118c18d5f115de497a6a"></a><!-- doxytag: member="ZeroRoboticsGameImpl::switchLightDirection" ref="ab3979270376c118c18d5f115de497a6a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#ab3979270376c118c18d5f115de497a6a">ZeroRoboticsGameImpl::switchLightDirection</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRLight_8cpp_source.html#l00057">57</a> of file <a class="el" href="ZRLight_8cpp_source.html">ZRLight.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                {
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a3183d8326413430f344309a7940b88fc">direction</a> *= -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7c169c0d9e3e14c6dbc0626577ed4b4c"></a><!-- doxytag: member="ZeroRoboticsGameImpl::takePicImpl" ref="a7c169c0d9e3e14c6dbc0626577ed4b4c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classZeroRoboticsGameImpl.html#a7c169c0d9e3e14c6dbc0626577ed4b4c">ZeroRoboticsGameImpl::takePicImpl</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the score value of the picture, or 0 if taking the picture failed. </p>

<p>Definition at line <a class="el" href="ZRCamera_8cpp_source.html#l00128">128</a> of file <a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3cee3821a3064e6f38ded9705cb694b2">score</a> += 0.01f;
  GAME_TRACE((<span class="stringliteral">&quot;[%d] attempting to take picture... &quot;</span>, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a>));

  <span class="keywordtype">bool</span> enoughSpace = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a> &lt; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad11dedf42ae2311a21d7d2f6ca9b5849">memorySize</a>;


  <span class="comment">// uses the energy even if the picture can&#39;t be taken</span>
  <span class="comment">// (if not enough space or not facing other sphere)</span>
  <span class="keywordtype">bool</span> usedEnergy = <a class="code" href="classZeroRoboticsGameImpl.html#a761923bde7ba17770abbe676c59b2414">tryToUseEnergy</a>(<a class="code" href="Constants_8h.html#a86e0d178b9f47a3c12620cc28f31b509" title="The energy cost to take a picture.">ENERGY_COST_TAKE_PICTURE</a>);

  <span class="keywordtype">float</span> pictureValue = <a class="code" href="classZeroRoboticsGameImpl.html#a73a31ac55f0b46a131a16f76db0d9c1c">picPointsImpl</a>();

  <span class="keywordflow">if</span>(enoughSpace &amp;&amp; usedEnergy &amp;&amp; pictureValue != 0)     <span class="comment">// check if it can take a picture</span>
  {
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a8c3167b2d5509410a5f4a554760a3f7a">tookPicture</a> = <span class="keyword">true</span>;
    <span class="comment">// apply score modifiers etc</span>
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3cee3821a3064e6f38ded9705cb694b2">score</a> += 0.1f;         <span class="comment">// Very small value. Subject to change.</span>
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad6eeeb89f1de80221a026b47f95a2a0c">memory</a>[<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a>].<a class="code" href="structZeroRoboticsGameImpl_1_1Picture.html#a6e43fbb044a74f0ef8b87c7addb849b7">picStored</a> = <span class="keyword">true</span>;

    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad6eeeb89f1de80221a026b47f95a2a0c">memory</a>[<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a>].<a class="code" href="structZeroRoboticsGameImpl_1_1Picture.html#af64b0c8c976524f0b6d97a0d50deda52">value</a> = pictureValue;
    <span class="comment">// End of scoring</span>

    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad6eeeb89f1de80221a026b47f95a2a0c">memory</a>[<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a>].<a class="code" href="structZeroRoboticsGameImpl_1_1Picture.html#a796b61d7e4bdf0f749800eea0c11c967">round</a> = 1;


    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a>++;


    GAME_TRACE((<span class="stringliteral">&quot;[%d] took picture (round %d) valued %4.2f points | &quot;</span>, <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime(), <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad6eeeb89f1de80221a026b47f95a2a0c">memory</a>[<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a>-1].<a class="code" href="structZeroRoboticsGameImpl_1_1Picture.html#a796b61d7e4bdf0f749800eea0c11c967">round</a>, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#ad6eeeb89f1de80221a026b47f95a2a0c">memory</a>[<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a39633054772c4bd8e99208d2ca9f6fae">memoryFilled</a>-1].<a class="code" href="structZeroRoboticsGameImpl_1_1Picture.html#af64b0c8c976524f0b6d97a0d50deda52">value</a>));

  }
   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!enoughSpace &amp;&amp; pictureValue != 0 ){
    GAME_TRACE((<span class="stringliteral">&quot;Failed to take a picture: memory filled up | &quot;</span>));
  }
   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!usedEnergy &amp;&amp; pictureValue != 0 ){
    GAME_TRACE((<span class="stringliteral">&quot;Failed to take a picture: not enough energy | &quot;</span>));
  }

  <a class="code" href="classZeroRoboticsGameImpl.html#a1abd712563a1463c237192fd65a59bb1">disableCamera</a>();

  <span class="keywordflow">return</span> pictureValue;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a761923bde7ba17770abbe676c59b2414"></a><!-- doxytag: member="ZeroRoboticsGameImpl::tryToUseEnergy" ref="a761923bde7ba17770abbe676c59b2414" args="(float amount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#a761923bde7ba17770abbe676c59b2414">ZeroRoboticsGameImpl::tryToUseEnergy</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZREnergy_8cpp_source.html#l00017">17</a> of file <a class="el" href="ZREnergy_8cpp_source.html">ZREnergy.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (amount &lt; 0) {
    GAME_TRACE((<span class="stringliteral">&quot;DEV: trying to use negative energy. Check for bugs. | &quot;</span>));
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
  }

  <span class="keywordflow">if</span> (amount &gt; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a>) {
    <span class="comment">// GAME_TRACE((&quot;Not enough energy to perform the action. | &quot;));</span>
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
  }

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> -= amount;
  <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a66f7ae702f54ce00b96516062a594447"></a><!-- doxytag: member="ZeroRoboticsGameImpl::update" ref="a66f7ae702f54ce00b96516062a594447" args="(float forceTorqueOut[6])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#a66f7ae702f54ce00b96516062a594447">ZeroRoboticsGameImpl::update</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>forceTorqueOut</em>[6]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(Required) Runs an update of the game rules and calls the user function loop(). </p>
<p>The return value for this function indicates if the forceTorqueOut vector should be mixed into thruster firings. The function should return 0 if the user does not activate any ZR API movement commands or implements their own thruster firing logic.</p>
<p>Here we update player's scores</p>
<p>/param forceTorqueOut forces and torques to be mixed into thruster firings /return return 1 if forceTorqueOut should be mixed into thruster firings and 0 otherwise </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00110">110</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {
  <a class="code" href="classZeroRoboticsGameImpl.html#a90009ba093cda6005c311343e9934315">updateStates</a>();
  <a class="code" href="classZeroRoboticsGameImpl.html#a34553d0023583d922cd94c6951af0f84">updateLight</a>();
  <a class="code" href="classZeroRoboticsGameImpl.html#a73fd253dab9b3107da7081532f0da211">updateEnergy</a>();

  <span class="comment">// empty the userForces array</span>
  memset(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#afdb358c05f9325830ddd33336ee1be2c">userForces</a>,0,<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*6);

  <span class="comment">// declare a static finalResult variable</span>
  <span class="comment">// updateGameOverManuever will change it</span>
  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> finalResult = 0;

  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> useForces = <span class="keyword">false</span>;

  <span class="comment">// maneuver 3 = game mode</span>
  <span class="comment">// maneuver 202 = end game (get final score)</span>
  <span class="comment">// maneuver 204 = terminate</span>

  <span class="keywordflow">switch</span> (ctrlManeuverNumGet())
  {

    <span class="keywordflow">case</span> 3:
      useForces = <a class="code" href="classZeroRoboticsGameImpl.html#a0d07ca22a432d2899967969c8ef1eda1">updateGameModeManeuver</a>(forceTorqueOut);
      <span class="keywordflow">break</span>;

    <span class="comment">//------End main game code------//</span>

    <span class="keywordflow">case</span> 202: <span class="comment">// Endgame scenario</span>
      useForces = <a class="code" href="classZeroRoboticsGameImpl.html#a0149c5734a126dbdb9e1fbc046fe7e20">updateGameOverManeuver</a>(forceTorqueOut, finalResult);
      <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> 203: <span class="comment">// terminate test after determining final score</span>
      {
        ctrlTestTerminate(finalResult);
      }
      <span class="keywordflow">break</span>;
  }

  <span class="comment">//Store user forces for sending to ground</span>
  memcpy(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#afdb358c05f9325830ddd33336ee1be2c">userForces</a>, forceTorqueOut, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*6);

<span class="preprocessor">#ifdef ZR2D</span>
<span class="preprocessor"></span>  memset(&amp;<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#afdb358c05f9325830ddd33336ee1be2c">userForces</a>[2], 0, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*3);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
  <span class="comment">//Send Telemetry</span>
  <a class="code" href="classZeroRoboticsGameImpl.html#a45e62f5b9b517dd69a91e5f8da28d05e" title="(Required) Called on every gspControl control cycle, It should be used to send debug and telemetry in...">sendDebug</a>();

  <span class="keywordflow">return</span> useForces;

}
</pre></div>
</div>
</div>
<a class="anchor" id="a73fd253dab9b3107da7081532f0da211"></a><!-- doxytag: member="ZeroRoboticsGameImpl::updateEnergy" ref="a73fd253dab9b3107da7081532f0da211" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a73fd253dab9b3107da7081532f0da211">ZeroRoboticsGameImpl::updateEnergy</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZREnergy_8cpp_source.html#l00037">37</a> of file <a class="el" href="ZREnergy_8cpp_source.html">ZREnergy.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <span class="keywordflow">if</span> (!<a class="code" href="classZeroRoboticsGameImpl.html#af97fc0f54d62302c4d4bcb83b4075e7b">sphereInLight</a>(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>)) <span class="keywordflow">return</span>;

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> += <a class="code" href="Constants_8h.html#aa5851504cdf218aec346802406727c2c" title="Energy gained per second.">ENERGY_GAIN_RATE</a>;
  <span class="keywordflow">if</span> (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> &gt; <a class="code" href="Constants_8h.html#abf472630357fc73cf3f507ed2fa69074" title="Energy capacity.">MAX_ENERGY</a>) {
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a65a351a7c6846f9bb7203111204addf5">energy</a> = <a class="code" href="Constants_8h.html#abf472630357fc73cf3f507ed2fa69074" title="Energy capacity.">MAX_ENERGY</a>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0d07ca22a432d2899967969c8ef1eda1"></a><!-- doxytag: member="ZeroRoboticsGameImpl::updateGameModeManeuver" ref="a0d07ca22a432d2899967969c8ef1eda1" args="(float forceTorqueOut[6])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#a0d07ca22a432d2899967969c8ef1eda1">ZeroRoboticsGameImpl::updateGameModeManeuver</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>forceTorqueOut</em>[6]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00231">231</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                         {
  <span class="keywordtype">float</span> collisionInfo[2];

  <span class="comment">// get state-of-health of other satellite (mainly for end of test)</span>
  comm_payload_soh soh_partner;
<span class="preprocessor">  #if (SPHERE_ID == SPHERE1)</span>
<span class="preprocessor"></span>    commBackgroundSOHGet(SPHERE2, &amp;soh_partner);
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>    commBackgroundSOHGet(SPHERE1, &amp;soh_partner);
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>
  <span class="comment">// determine current speed of satellite, use to determine collision avoidance motion</span>
  <span class="keywordtype">float</span> speed = mathVecMagnitude(&amp;<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3896131a8230bcbfb7c462845344b9be">sphState</a>[3],3);

  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> useForces = <span class="keyword">false</span>;

  <span class="comment">// if camera was used (so it can&#39;t be used again for 3 seconds), check when to enable it again</span>
  <span class="keywordflow">if</span>((!<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a840ab79be6fe8863917f53c30d0df05b">cameraOn</a>) &amp;&amp; ((<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a> - <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a70b0a36baeb8ac722d60593abd20598a">cameraOffTime</a>) &gt; <a class="code" href="Constants_8h.html#a9806c3b4bc0b2938bf444a73ce7d777d" title="The camera is disabled for this many seconds after taking and uploading pictures.">DISABLE_CAMERA_TIME</a>))
  {
    <a class="code" href="classZeroRoboticsGameImpl.html#ab0ff87dbfe03c343bb5f6c9f1e990b5c">activateCamera</a>();
  }

  <span class="comment">// Run user&#39;s &quot;loop&quot; function.  apiImpl is used because we are accessing</span>
  <span class="comment">// a private part of the API containing a pointer to the user&#39;s API</span>
  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.zruser-&gt;loop();

  <span class="comment">//Check if items are being picked up</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="Constants_8h.html#affced4b175e803df59f802e25d017b9b" title="The number of items in the game.">NUM_ITEMS</a>; i++)
    <a class="code" href="classZeroRoboticsGameImpl.html#af9d88e40a751f09b2b35273929140414">itemPickUp</a>(i);

  useForces = useForces || <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.getForceTorque(forceTorqueOut);
  
  prop_time tent_times;
<span class="preprocessor">  #ifdef ZRFLATFLOOR</span>
<span class="preprocessor"></span>    ctrlMixWLoc(&amp;tent_times, forceTorqueOut, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3896131a8230bcbfb7c462845344b9be">sphState</a>, 10, 40.0f, FORCE_FRAME_INERTIAL);
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>    ctrlMixWLoc(&amp;tent_times, forceTorqueOut, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3896131a8230bcbfb7c462845344b9be">sphState</a>, 10, 20.0f, FORCE_FRAME_INERTIAL);
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>
  <span class="keywordtype">float</span> tent_time_sum = 0;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 12; i++) {
    tent_time_sum += tent_times.off_time[i]-tent_times.on_time[i];
  }

  <span class="comment">//Check for fuel or energy out at this point</span>
  <span class="keywordflow">if</span>((<a class="code" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c" title="Back pointer to the game instance.">game</a>-&gt;<a class="code" href="classZeroRoboticsGame.html#aa00ac2c0ebfd773384789f4496a9bfd3">getFuelRemaining</a>() &lt;= 0.0f || <a class="code" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c" title="Back pointer to the game instance.">game</a>-&gt;<a class="code" href="classZeroRoboticsGame.html#a4e69e4fb9a4565c5793033318a563012" title="Tells how much energy the player has.">getEnergy</a>() &lt;= tent_time_sum * <a class="code" href="Constants_8h.html#a516426ab7984a59019ab06e836bba7c1" title="The energy cost to use one thousandth of a second of fuel.">ENERGY_COST_THRUSTERS</a>))
  {
    memset(forceTorqueOut,0,6*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));   <span class="comment">// anything the user has commanded is ignored, only firings would be from out-of-bounds or collission avoidance</span>
    useForces = <span class="keyword">false</span>;  <span class="comment">// assume there will be no firings</span>
  }

  <span class="comment">//Enforce boundaries of the game</span>
  <span class="keywordflow">if</span> (<a class="code" href="classZeroRoboticsGameImpl.html#ae0304cdd8e28fd771f7115c01ec7568d" title="(Required) Called on every gspControl control cycle.">enforceBoundaries</a>(forceTorqueOut))
  {
    <span class="comment">//challInfo.me.fuelUsed += OFFSIDES_PENALTY;</span>
    GAME_TRACE((<span class="stringliteral">&quot;[%d] out of bounds penalty | &quot;</span>, <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime()));
    useForces = <span class="keyword">true</span>;
  }

  <span class="comment">//Collision avoidance</span>
  <span class="comment">//check to see that its speed is not neglible.</span>
  <span class="keywordflow">if</span> (speed &gt; 0.01f) {
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a2068ec3a011999274c8846ba44e2bb4f">collisionActive</a> = ctrlAvoidWithOverride(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3896131a8230bcbfb7c462845344b9be">sphState</a>,&amp;<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#af4a8de1615f1533615e205bb28156523">sphState</a>,1,forceTorqueOut,collisionInfo,3);
  }

  <span class="comment">//------Thruster control------//</span>
    <span class="comment">// Run standard mixer to get fuel consumption</span>
  prop_time times;
  ctrlMixWLoc(&amp;times, forceTorqueOut, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3896131a8230bcbfb7c462845344b9be">sphState</a>, 10, 20.0f, FORCE_FRAME_INERTIAL);

  <span class="comment">//Tally fuel and energy used for firing thrusters</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;12; i++)
  {
    <span class="keywordtype">float</span> thrusterTime = times.off_time[i]-times.on_time[i];

    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3ccb07153a9851ecafd52abf23d792a2">fuelUsed</a> += thrusterTime / 1000.0f;

    <a class="code" href="classZeroRoboticsGameImpl.html#a761923bde7ba17770abbe676c59b2414">tryToUseEnergy</a>(thrusterTime * <a class="code" href="Constants_8h.html#a516426ab7984a59019ab06e836bba7c1" title="The energy cost to use one thousandth of a second of fuel.">ENERGY_COST_THRUSTERS</a>);


    <span class="comment">//Protect against NAN or INF hacking</span>
    <span class="keywordflow">if</span> (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3ccb07153a9851ecafd52abf23d792a2">fuelUsed</a> &lt; 0.0f)
    {
      DEBUG((<span class="stringliteral">&quot;WARNING: invalid forces/torques applied to satellite at t=%d. Fuel will be set to 0. Check your code for errors.\n&quot;</span>, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a>));
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3ccb07153a9851ecafd52abf23d792a2">fuelUsed</a> = <a class="code" href="Constants_8h.html#a948058c84c54a63c0c538fa70abe94e2" title="Total time in thruster-seconds allowed per user. Full tank ~500 seconds.">PROP_ALLOWED_SECONDS</a>;
    }
  }
  
<span class="preprocessor">  #ifdef ZR2D</span>
<span class="preprocessor"></span>    <a class="code" href="classZeroRoboticsGameImpl.html#a7802e51a36441a2605b3269654429be5">modify2DForceTorque</a>(forceTorqueOut);
    useForces = <span class="keyword">true</span>;
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>
  <span class="comment">//------Game end conditions------//</span>
  <span class="keywordflow">if</span> (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a> &gt;= (<a class="code" href="Constants_8h.html#a9a0a3d30d76a1ec89a55582ef693d654" title="Length of the whole game in seconds.">MAX_GAME_TIME</a>))
    ctrlManeuverNumSet(202);

  <span class="keywordflow">return</span> useForces;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0149c5734a126dbdb9e1fbc046fe7e20"></a><!-- doxytag: member="ZeroRoboticsGameImpl::updateGameOverManeuver" ref="a0149c5734a126dbdb9e1fbc046fe7e20" args="(float forceTorqueOut[6], unsigned char &amp;finalScore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classZeroRoboticsGameImpl.html#a0149c5734a126dbdb9e1fbc046fe7e20">ZeroRoboticsGameImpl::updateGameOverManeuver</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>forceTorqueOut</em>[6], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char &amp;&#160;</td>
          <td class="paramname"><em>finalScore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00331">331</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                     {
  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> useForces = <span class="keyword">false</span>;
  <span class="keywordtype">int</span> result;

  <span class="keywordtype">float</span> collisionInfo[2];

  <span class="comment">// get state-of-health of other satellite (mainly for end of test)</span>
  comm_payload_soh soh_partner;
<span class="preprocessor">  #if (SPHERE_ID == SPHERE1)</span>
<span class="preprocessor"></span>    commBackgroundSOHGet(SPHERE2, &amp;soh_partner);
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>    commBackgroundSOHGet(SPHERE1, &amp;soh_partner);
<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>
  <span class="keywordtype">float</span> myScore;
  <span class="keywordtype">float</span> otherScore;

  myScore = <a class="code" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c" title="Back pointer to the game instance.">game</a>-&gt;<a class="code" href="classZeroRoboticsGame.html#accfa1dd26fec4f6720486328306064e8" title="Returns the player&#39;s current score.">getScore</a>();
  otherScore = <a class="code" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c" title="Back pointer to the game instance.">game</a>-&gt;<a class="code" href="classZeroRoboticsGame.html#a70d2094fff8b0cea23f30ce1bb3114b7" title="Returns the opponent&#39;s current score.">getOtherScore</a>();

  useForces = ctrlAvoidWithOverride(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3896131a8230bcbfb7c462845344b9be">sphState</a>, &amp;<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#af4a8de1615f1533615e205bb28156523">sphState</a>, 1, forceTorqueOut, collisionInfo, 3) &gt; 0;
  useForces = useForces || <a class="code" href="classZeroRoboticsGameImpl.html#ae0304cdd8e28fd771f7115c01ec7568d" title="(Required) Called on every gspControl control cycle.">enforceBoundaries</a>(forceTorqueOut);

  <span class="comment">// break ties by making a tiny change based on the random state</span>
  <span class="keywordflow">if</span> (myScore == otherScore)
  {
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3cee3821a3064e6f38ded9705cb694b2">score</a>  -= (0.01f * sqrtf((<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>[0]*<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>[0])
      +(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>[1]*<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>[1])+(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>[2]*<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>[2])));
    GAME_TRACE ((<span class="stringliteral">&quot;Tie Breaker (%12.10f = %12.10f), new score = %12.10f | &quot;</span>, myScore, otherScore, <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3cee3821a3064e6f38ded9705cb694b2">score</a>));
  }

  <span class="comment">// get final score</span>
  <span class="keywordflow">if</span> ((soh_partner.last_test_result || (soh_partner.maneuver_number &gt; 200) || (NUM_SPHERES == 1)))
  {
    result = 10*floorf(myScore);
    <span class="keywordflow">if</span> (result &lt; 10) result = 10;
    <span class="keywordflow">if</span> (result &gt; 220) result = 220;
    <span class="keywordflow">if</span> (myScore &gt; otherScore)
      result += 10;
    finalResult = (result + <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.getTeamId() + 1);
    useForces = <span class="keyword">false</span>;
  }

  <span class="comment">// terminate after we find the final result &amp; timeout (4s)</span>
  <span class="keywordflow">if</span> (finalResult &amp;&amp; (ctrlManeuverTimeGet() &gt; 4000))
  {
    GAME_TRACE ((<span class="stringliteral">&quot;GAME ENDED! Final Score Float: %10.8f / Integer: %d | Test Result %d | &quot;</span>, myScore, result, finalResult));
    ctrlManeuverTerminate();
  }
  <span class="keywordflow">return</span> useForces;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a34553d0023583d922cd94c6951af0f84"></a><!-- doxytag: member="ZeroRoboticsGameImpl::updateLight" ref="a34553d0023583d922cd94c6951af0f84" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a34553d0023583d922cd94c6951af0f84">ZeroRoboticsGameImpl::updateLight</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRLight_8cpp_source.html#l00038">38</a> of file <a class="el" href="ZRLight_8cpp_source.html">ZRLight.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                       {
<span class="preprocessor">  #ifdef ALLIANCE</span>
<span class="preprocessor"></span>
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a> += <a class="code" href="Constants_8h.html#a2f3addaba3e40cfb6e78224398707712" title="The light moves at this speed (in m/s) during the Alliance portion of the game.">LIGHT_SPEED</a>;
    <span class="keywordflow">if</span> (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a> &gt; <a class="code" href="Constants_8h.html#a2a192e039a1ea48e8bd8ea6a8f7fcf3c" title="The highest Y coordinate in bounds.">ZONE_pY</a>) {
      <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a07dc86f659949d497f06496122fbc7cb">center</a> -= 2*<a class="code" href="Constants_8h.html#a2a192e039a1ea48e8bd8ea6a8f7fcf3c" title="The highest Y coordinate in bounds.">ZONE_pY</a>;
    }

<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span> (<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a> &lt; <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a40ab9ef359536d34bd1583f3c220ae88">nextSwitchTime</a>) <span class="keywordflow">return</span>;

    GAME_TRACE((<span class="stringliteral">&quot;Light switching now&quot;</span>));
    <a class="code" href="classZeroRoboticsGameImpl.html#ab3979270376c118c18d5f115de497a6a">switchLightDirection</a>();
    <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#ac462fc21cd7d8b43274e702473da9620">light</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Light.html#a40ab9ef359536d34bd1583f3c220ae88">nextSwitchTime</a> = <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a> + <a class="code" href="Constants_8h.html#a96e389ae80c76575cafdc0b106b66d28" title="The light switches this number of seconds after the first flip in the 2D/3D versions of the game...">LIGHT_SWITCH_PERIOD</a>;

<span class="preprocessor">  #endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a90009ba093cda6005c311343e9934315"></a><!-- doxytag: member="ZeroRoboticsGameImpl::updateStates" ref="a90009ba093cda6005c311343e9934315" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classZeroRoboticsGameImpl.html#a90009ba093cda6005c311343e9934315">ZeroRoboticsGameImpl::updateStates</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRGameInternal_8cpp_source.html#l00097">97</a> of file <a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getMyZRState(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a8e4414422db191085769b334ec3776e3">zrState</a>);
  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getOtherZRState(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#a54b40a862d24e9670b7b133c1726edf6">zrState</a>);

  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getMySphState(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a999dbfee95908c8388bf3e81df2b725f">me</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1PlayerInfo.html#a3896131a8230bcbfb7c462845344b9be">sphState</a>);
  <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getOtherSphState(<a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a0540d74b1f9da5d776b6aaf7143839b1">other</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1OtherInfo.html#af4a8de1615f1533615e205bb28156523">sphState</a>);

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#a85e2f643b48f2f710cbaabece9f54b03">currentTime</a> = <a class="code" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9" title="Reference to ZR API instance.">apiImpl</a>.api-&gt;getTime();

  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a8c3167b2d5509410a5f4a554760a3f7a">tookPicture</a> = <span class="keyword">false</span>;
  <a class="code" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">challInfo</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html#af419b3b14354f6443d4ab8107a877598">camera</a>.<a class="code" href="structZeroRoboticsGameImpl_1_1Camera.html#a6e720c1d911b726926d3f1651f8ce6ff">uploadedPictures</a> = <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae996db138ad7b6f27e3e71ecd76b9ec9"></a><!-- doxytag: member="ZeroRoboticsGameImpl::apiImpl" ref="ae996db138ad7b6f27e3e71ecd76b9ec9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ZeroRoboticsAPIImpl&amp; <a class="el" href="classZeroRoboticsGameImpl.html#ae996db138ad7b6f27e3e71ecd76b9ec9">ZeroRoboticsGameImpl::apiImpl</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reference to ZR API instance. </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8h_source.html#l00224">224</a> of file <a class="el" href="ZRGameInternal_8h_source.html">ZRGameInternal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4f49bda3856c7f8e54efa185e280213c"></a><!-- doxytag: member="ZeroRoboticsGameImpl::challInfo" ref="a4f49bda3856c7f8e54efa185e280213c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structZeroRoboticsGameImpl_1_1ChallengeInfo.html">ChallengeInfo</a> <a class="el" href="classZeroRoboticsGameImpl.html#a4f49bda3856c7f8e54efa185e280213c">ZeroRoboticsGameImpl::challInfo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ZRGameInternal_8h_source.html#l00105">105</a> of file <a class="el" href="ZRGameInternal_8h_source.html">ZRGameInternal.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae1d07092a5c7cd9456e55133ba53005c"></a><!-- doxytag: member="ZeroRoboticsGameImpl::game" ref="ae1d07092a5c7cd9456e55133ba53005c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classZeroRoboticsGame.html">ZeroRoboticsGame</a>* <a class="el" href="classZeroRoboticsGameImpl.html#ae1d07092a5c7cd9456e55133ba53005c">ZeroRoboticsGameImpl::game</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Back pointer to the game instance. </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8h_source.html#l00227">227</a> of file <a class="el" href="ZRGameInternal_8h_source.html">ZRGameInternal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1939455dbdd408e10e5f209e7f3e91e4"></a><!-- doxytag: member="ZeroRoboticsGameImpl::initState" ref="a1939455dbdd408e10e5f209e7f3e91e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const state_vector <a class="el" href="classZeroRoboticsGameImpl.html#a1939455dbdd408e10e5f209e7f3e91e4">ZeroRoboticsGameImpl::initState</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(Required) Initial state where the satellite is initialized. </p>

<p>Definition at line <a class="el" href="ZRGameInternal_8h_source.html#l00162">162</a> of file <a class="el" href="ZRGameInternal_8h_source.html">ZRGameInternal.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ZRGameInternal_8h_source.html">ZRGameInternal.h</a></li>
<li><a class="el" href="ZRCamera_8cpp_source.html">ZRCamera.cpp</a></li>
<li><a class="el" href="ZRCommRoutines_8cpp_source.html">ZRCommRoutines.cpp</a></li>
<li><a class="el" href="ZREnergy_8cpp_source.html">ZREnergy.cpp</a></li>
<li><a class="el" href="ZRGameInternal_8cpp_source.html">ZRGameInternal.cpp</a></li>
<li><a class="el" href="ZRItems_8cpp_source.html">ZRItems.cpp</a></li>
<li><a class="el" href="ZRLight_8cpp_source.html">ZRLight.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classZeroRoboticsGameImpl.html">ZeroRoboticsGameImpl</a>      </li>

    <li class="footer">Generated on Thu Nov 19 2015 12:11:51 for SPYSpheres by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
